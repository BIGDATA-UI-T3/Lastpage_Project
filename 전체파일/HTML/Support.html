<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
   <link rel="stylesheet" href="../CSS/common.css">
    <link rel="stylesheet" href="../HTML/common.html">
  <title>고객센터</title>
  <style>
    :root{
      --bg:#f6f5f2;
      --panel:#ffffff;
      --ink:#2C3930;           
      --muted:#6c7a72;
      --brand:#2C3930;     
      --accent:#A27b5c;     
      --soft:#ebedea;
      --border:#e8e3dc;
      --shadow:0 14px 40px rgba(0,0,0,.12);
      --radius:18px;
    }
    *{box-sizing:border-box}
    html,body{margin:0}
    body{
      font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Noto Sans KR",Apple SD Gothic Neo,Arial,sans-serif;
      color:var(--ink);
      background:var(--bg);
      line-height:1.5;
    }

    /* 배너 */
    .banner{
      position:relative;
      min-height:44vh;
      display:grid;
      place-items:center;
      color:#fff;
      text-align:center;
      overflow:hidden;
      background:#0f201a;
      isolation:isolate;
    }
    .banner::before{
      content:"";
      position:absolute;inset:0;
      background:url('https://images.unsplash.com/photo-1561037404-61cd46aa615b?q=80&w=2600&auto=format&fit=crop') center/cover no-repeat;
      filter:grayscale(.1) saturate(.7) brightness(.8);
      z-index:-2;
    }
    .banner::after{
      content:"";position:absolute;inset:0;
      background:linear-gradient(180deg, rgba(33,55,47,.72), rgba(33,55,47,.65));
      z-index:-1;
    }
    .banner .inner{max-width:1100px;padding:64px 20px 86px}
    .headline{font-weight:800;letter-spacing:-.02em;margin:0 0 10px;font-size:clamp(28px,4.5vw,48px)}
    .sub{opacity:.92;font-size:clamp(14px,1.8vw,18px);margin:0 auto;max-width:800px}

    /* 버튼 */
    .btn{appearance:none;border:1px solid transparent;background:#A27b5c;color:#fff;border-radius:999px;padding:10px 18px;cursor:pointer;font-weight:700;box-shadow:0 6px 18px rgba(33,55,47,.18);transition:.2s transform,.2s box-shadow}
    .btn:hover{transform:translateY(-1px);box-shadow:0 10px 22px rgba(33,55,47,.22)}
    .btn-outline{background:#A27b5c;color:#fff;border-color:#A27b5c;}
    .btn-ghost{background:transparent;border-color:var(--border);color:var(--ink)}

    /* 레이아웃 */
    .wrap{max-width:1100px;margin:0 auto;padding:0 16px 80px}

    /* 탭 */
    .tabbar{display:flex;gap:8px;margin:24px 0 12px;align-items:center}
    .tab{padding:10px 14px;border-radius:12px;border:1px solid var(--border);background:#fff;cursor:pointer;font-weight:700;color:var(--muted)}
    .tab.active{color:var(--brand);border-color:#c9cfc9;box-shadow:var(--shadow)}
    
  
    .tabbar .ask-btn{
  margin-left: auto;       
  padding: 10px 14px;     
  border-radius: 12px;     
  height: auto;            
}

    /* FAQ 아코디언 */
    .faq-list{display:grid;gap:10px}
    .item{background:var(--panel);border:1px solid var(--border);border-radius:14px;overflow:hidden}
    .q{display:flex;gap:10px;align-items:center;justify-content:space-between;padding:16px 18px;cursor:pointer}
    .q .left{display:flex;align-items:center;gap:10px}
    .badge{background:var(--soft);color:var(--brand);font-weight:800;border-radius:8px;padding:4px 8px;font-size:12px}
    .q .caret{transition:transform .2s ease}
    .a{padding:0 18px 16px 46px;color:#2e3833;display:none}
    .item.open .a{display:block; border-top: 1px solid gainsboro; background-color: #2C3930; color: #fff;}
    .item.open .q .caret{transform:rotate(90deg)}

    /* 페이지네이션 */
    .pager{display:flex;gap:8px;justify-content:center;margin:22px 0 8px}
    .page-btn{min-width:36px;height:36px;padding:0 12px;border-radius:10px;border:1px solid #A27b5c;background:#fff;cursor:pointer;color:#A27b5c;}
    .page-btn.active{background:#A27b5c;color:#fff;border-color:transparent}

    /* 퀵 바 */
    .quickbar{display:flex;gap:12px;align-items:center;justify-content:space-between;margin:10px 0 22px}
    .left-actions{display:flex;gap:8px;align-items:center}

    /* QnA 리스트 */
    .qna-list{display:grid;gap:10px}
    .post{background:#fff;border:1px solid var(--border);border-radius:14px;overflow:hidden}
    .post-head{padding:14px 16px;display:flex;gap:10px;align-items:center;justify-content:space-between}
    .post-title{font-weight:700}
    .meta{font-size:12px;color:var(--muted)}
    .post-body{padding:0 16px 16px 16px;display:none}
    .post.open .post-body{display:block}
    .tag{background:var(--soft);color:var(--brand);padding:2px 8px;border-radius:999px;font-size:12px;font-weight:700}
    .chips{display:flex;gap:6px;align-items:center}

    /* 모달 */
    .modal{position:fixed;inset:0;display:none;place-items:center;background:rgba(18,22,20,.55);padding:20px;z-index:50}
    .modal.open{display:grid}
    .sheet{width:min(920px,100%);max-height:90vh;overflow:auto;background:#fff;border-radius:18px;box-shadow:var(--shadow)}
    .sheet-head{padding:16px 18px;border-bottom:1px solid var(--border);display:flex;align-items:center;justify-content:space-between}
    .sheet-body{padding:18px}
    .grid{display:grid;gap:14px}
    .row{display:grid;gap:8px}
    label{font-weight:700}
    input,select,textarea{width:100%;border:1px solid #dcd8d1;border-radius:12px;padding:12px 12px;background:#fff;font:inherit}
    textarea{min-height:150px;resize:vertical}
    .hint{font-size:12px;color:var(--muted)}
    .field-inline{display:flex;flex-direction:row;align-items:center;gap:0px;flex-wrap:nowrap}
    .row.field-inline{display:flex;align-items:center;gap:2px}
    label.field-inline{display:inline-flex;align-items:center;gap:1px;white-space:nowrap}
    .row.field-inline input[type="checkbox"]{margin-right:0;}
    .files{display:flex;flex-wrap:wrap;gap:8px}
    .preview{width:84px;height:84px;border-radius:12px;object-fit:cover;border:1px solid var(--border)}

    .toolbar{display:flex;gap:8px;align-items:center}
    .danger{background:#8d2f2f}

    @media (max-width:968px){
      .q{padding:14px}
      .a{padding:0 14px 14px 42px}
      .post-head{flex-direction:column;align-items:flex-start;gap:6px}
      .tabbar{flex-wrap:wrap}
    }
  </style>
</head>
<body>
  <!-- 배너 -->
  <section class="banner" aria-labelledby="bannerTitle">
    <div class="inner">
      <h1 id="bannerTitle" class="headline">타이틀 주제 적기</h1>
      <p class="sub">1. QnA창 버튼, chips사이즈 다시 구현 <br/>2. 질문 작성 페이지 버튼, 체크박스 사이징, 분류 사이드 드롭 스크롤 디자인</p>

    </div>
  </section>

  <!-- 탭 + 질문하기 (상단 컨트롤 바는 제거) -->
  <main class="wrap">
    <div class="tabbar" role="tablist" aria-label="콘텐츠 전환">
      <button class="tab active" id="tab-faq" role="tab" aria-selected="true">FAQ</button>
      <button class="tab" id="tab-qna" role="tab" aria-selected="false">QnA</button>
     <button class="btn ask-btn" id="btnAsk">질문하기</button>
    </div>

    <!-- FAQ 섹션 -->
    <section id="faqSection" aria-labelledby="faqTitle">
      <h2 id="faqTitle" class="sr-only" style="position:absolute;left:-9999px">자주하는 질문</h2>
      <div id="faqList" class="faq-list"></div>
      <div class="pager" id="faqPager"></div>
    </section>

    <!-- QnA 섹션 -->
    <section id="qnaSection" hidden aria-labelledby="qnaTitle">
      <h2 id="qnaTitle" class="sr-only" style="position:absolute;left:-9999px">QnA</h2>
      <div class="quickbar">
        <div class="chips">
          <span class="tag">전체</span>
          <select id="qnaFilter" title="분류 필터">
            <option value="ALL">전체</option>
            <option>장례서비스</option>
            <option>심리상담서비스</option>
            <option>굿즈서비스</option>
            <option>커뮤니티서비스</option>
            <option>추모공간서비스</option>
          </select>
        </div>
        <div class="chips">
          <input id="qnaSearch" placeholder="제목/내용 검색" style="max-width:260px">
          <button class="btn-ghost" id="btnQnaRefresh">새로고침</button>
        </div>
      </div>
      <div id="qnaList" class="qna-list"></div>
    </section>
  </main>

  <!-- 질문 작성 모달 -->
  <div class="modal" id="askModal" aria-hidden="true" aria-label="질문 작성">
    <div class="sheet">
      <div class="sheet-head">
        <strong>질문하기</strong>
        <div class="toolbar">
          <button class="btn-ghost" id="btnCloseAsk">닫기</button>
        </div>
      </div>
      <div class="sheet-body">
        <form id="askForm" class="grid">
          <div class="row">
            <label for="title">제목 <span class="hint">(필수)</span></label>
            <input id="title" required maxlength="100" placeholder="예) 개별 화장 진행 절차가 궁금합니다" />
          </div>
          <div class="row field-inline">
            <div style="flex:1">
              <label for="category">분류</label>
              <select id="category" required>
                <option value="장례서비스">장례서비스</option>
                <option value="심리상담서비스">심리상담서비스</option>
                <option value="굿즈서비스">굿즈서비스</option>
                <option value="커뮤니티서비스">커뮤니티서비스</option>
                <option value="추모공간서비스">추모공간서비스</option>
              </select>
            </div>
            <div style="flex:1">
              <label for="nickname">작성자 (닉네임)</label>
              <input id="nickname" placeholder="예) 해피엄마" />
            </div>
            <div style="flex:1">
              <label for="writerPass">수정/삭제 비밀번호 <span class="hint">(필수, 4~12자)</span></label>
              <input id="writerPass" type="password" minlength="4" maxlength="12" required />
            </div>
          </div>
          <div class="row">
            <label for="content">내용</label>
            <textarea id="content" required placeholder="자세한 상황이나 궁금한 점을 적어주세요."></textarea>
          </div>
          <div class="row">
            <label>사진 첨부 <span class="hint">(최대 3장, 장당 2MB 이하)</span></label>
            <input id="photos" type="file" accept="image/*" multiple />
            <div id="previews" class="files"></div>
          </div>
          <div class="row">
            <label>링크 첨부</label>
            <div id="linkBox" class="grid"></div>
            <div class="toolbar">
              <button type="button" class="btn-ghost" id="btnAddLink">링크 추가</button>
            </div>
          </div>
          <div class="row field-inline">
            <label class="field-inline" ><input type="checkbox" id="secret"> 비공개로 등록</label>
            <span class="hint"></span>
          </div>
          <div class="row field-inline" style="justify-content:flex-end">
            <button class="btn btn-outline" type="reset">초기화</button>
            <button class="btn" type="submit" id="btnSubmit">등록하기</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <script>
    // ---------- 데이터 셋업 (FAQ 더미) ----------
    const defaultFaq = [
      { q:"반려동물 장례란 무엇인가요?", a:"장례는 고인의 존엄을 지키며 마지막 시간을 예의를 갖춰 보내는 절차입니다. 종합 상담, 운구, 작별실, 화장, 수골, 추모까지 안내해 드립니다." },
      { q:"사체는 어떻게 보관해야 하나요?", a:"가능하면 2~3시간 내 상담을 권장하며, 바로 방문이 어려우면 시신이 마르지 않도록 깨끗한 수건으로 감싸고 아이스팩을 복부에 대 주세요." },
      { q:"개별 화장과 합동 화장의 차이는?", a:"개별 화장은 반려동물 한 개체만 단독으로 진행하고 유골 전량을 돌려드립니다. 합동 화장은 여러 아이가 함께 진행되어 유골 반환이 없습니다." },
      { q:"유골함/기념품(굿즈) 구매가 가능한가요?", a:"가능합니다. 다양한 사이즈와 소재의 유골함, 모발/발바닥 모양 프레임, 각인 서비스 등을 제공합니다." },
      { q:"심리상담은 어떻게 진행되나요?", a:"상담사는 슬픔 단계 평가와 애도 과업을 기반으로 1:1 맞춤 세션을 제공합니다. 대면/비대면 모두 가능하며 예약제로 운영됩니다." },
      { q:"예약/접수는 24시간 되나요?", a:"긴급 접수는 24시간 연락 가능하며, 야간에는 대기 시간이 발생할 수 있습니다." },
      { q:"주차와 접근성은 어떤가요?", a:"장례식장 내 전용 주차 구역이 있습니다. 엘리베이터/휠체어 접근이 가능합니다." },
      { q:"유골은 어디에 안치할 수 있나요?", a:"납골당/수목장/가정 안치 등 여러 형태를 안내해 드리며, 법규를 준수합니다." },
      { q:"비용은 어떻게 산정되나요?", a:"체중, 선택 서비스(개별/합동, 염습 여부, 추모실 사용, 굿즈 등)에 따라 달라집니다. 상세 견적은 상담 시 안내드립니다." },
      { q:"카드결제/현금영수증 발급되나요?", a:"모두 가능합니다. 현금영수증은 개인/사업자 구분하여 발급합니다." },
      { q:"유골을 아파트 화단에 뿌려도 되나요?", a:"관할 지자체 규정과 공동주거 공간의 규약을 확인해야 합니다. 수목장을 권장드립니다." },
      { q:"추모공간 예약은 어떻게 하나요?", a:"모바일 또는 전화로 예약 후 방문해 주시면 됩니다." }
    ];

    // ---------- 상태 ----------
    const state = {
      faqPage: 1,
      faqPerPage: 8,
      editingId: null,
    };

    // ---------- 유틸 ----------
    const $ = (sel, root=document) => root.querySelector(sel);
    const $$ = (sel, root=document) => Array.from(root.querySelectorAll(sel));
    const formatTime = (d) => new Date(d).toLocaleString('ko-KR',{hour12:false});
    const uid = () => Math.random().toString(36).slice(2)+Date.now().toString(36);

    // ---------- 로컬 스토리지 ----------
    const LS = {
      get(key, fallback){
        try{ return JSON.parse(localStorage.getItem(key)) ?? fallback }catch{ return fallback }
      },
      set(key, val){ localStorage.setItem(key, JSON.stringify(val)) }
    };

    // 초기 FAQ
    if(!LS.get('faqData')) LS.set('faqData', defaultFaq);

    // QnA 저장 구조
    if(!LS.get('qnaPosts')) LS.set('qnaPosts', []);

    // ---------- FAQ 렌더 ----------
    function renderFaq(){
      const list = LS.get('faqData', []);
      const totalPages = Math.max(1, Math.ceil(list.length / state.faqPerPage));
      if(state.faqPage>totalPages) state.faqPage=totalPages;
      const start = (state.faqPage-1)*state.faqPerPage;
      const pageItems = list.slice(start, start+state.faqPerPage);
      const wrap = $('#faqList');
      wrap.innerHTML = '';
      pageItems.forEach((it)=>{
        const el = document.createElement('article');
        el.className = 'item';
        el.innerHTML = `
          <div class="q" role="button" aria-expanded="false">
            <div class="left"><span class="badge">Q</span><span>${it.q}</span></div>
            <span class="caret">▶</span>
          </div>
          <div class="a"><p>${it.a}</p></div>
        `;
        const btn = $('.q', el);
        btn.addEventListener('click',()=>{
          el.classList.toggle('open');
          btn.setAttribute('aria-expanded', el.classList.contains('open'));
        });
        wrap.appendChild(el);
      });
      const pager = $('#faqPager');
      pager.innerHTML = '';
      for(let i=1;i<=totalPages;i++){
        const p = document.createElement('button');
        p.className = 'page-btn'+(i===state.faqPage?' active':'');
        p.textContent=i;
        p.addEventListener('click',()=>{state.faqPage=i;renderFaq();window.scrollTo({top:0,behavior:'smooth'});});
        pager.appendChild(p);
      }
    }

    // ---------- QnA 렌더 ----------
    function renderQna(){
      const listWrap = $('#qnaList');
      const posts = LS.get('qnaPosts', []);
      const filter = $('#qnaFilter').value;
      const kw = ($('#qnaSearch').value||'').trim();
      const filtered = posts
        .filter(p=> (filter==='ALL'||p.category===filter) && (kw===''||p.title.includes(kw)||p.content.includes(kw)) )
        .sort((a,b)=> b.createdAt - a.createdAt);

      listWrap.innerHTML = '';
      if(filtered.length===0){
        const none = document.createElement('div');
        none.className='hint';
        none.style.padding='24px';
        none.textContent='등록된 질문이 없습니다. 상단 “질문하기”를 눌러 첫 질문을 남겨보세요.';
        listWrap.appendChild(none);
        return;
      }

      filtered.forEach(post=>{
        const el = document.createElement('article');
        el.className='post';
        const locked = post.secret === true;
        const answerDone = !!post.answer;
        el.innerHTML = `
          <div class="post-head" role="button">
            <div style="display:flex; gap:10px; align-items:center; flex-wrap:wrap">
              <span class="tag">${post.category}</span>
              <span class="post-title">${locked? '[비공개] ' : ''}${escapeHtml(post.title)}</span>
            </div>
            <div class="meta">작성자: ${escapeHtml(post.nickname||'익명')} · ${formatTime(post.createdAt)} ${answerDone? ' · <span style="color:#0d7a43;font-weight:700">[답변완료]</span>':''}</div>
          </div>
          <div class="post-body">
            <div>
              ${locked? '<em class="hint">비공개 글입니다. 열람하려면 비밀번호를 입력하세요.</em>' : nl2br(escapeHtml(post.content))}
            </div>
            ${post.links?.length? `<div style="margin-top:10px" class="grid">${post.links.map(u=>`<a href="${u}" target="_blank" rel="noopener">🔗 ${u}</a>`).join('')}</div>`:''}
            ${post.images?.length? `<div class="files" style="margin-top:10px">${post.images.map(src=>`<img class="preview" alt="첨부 이미지" src="${src}">`).join('')}</div>`:''}

            <div class="toolbar" style="margin-top:12px; flex-wrap:wrap">
              <button class="btn-ghost" data-act="view">${locked? '비공개 글 보기' : '내용 접기'}</button>
              <button class="btn-ghost" data-act="edit">수정</button>
              <button class="btn-ghost danger" data-act="del">삭제</button>
            </div>

            <div class="grid" style="margin-top:10px" ${answerDone? '':'hidden'}>
              <div class="tag">관리자 답변</div>
              <div>${answerDone? nl2br(escapeHtml(post.answer.text)) : ''}</div>
              ${answerDone? `<div class="meta">by ${escapeHtml(post.answer.adminName||'관리자')} · ${formatTime(post.answer.createdAt)}</div>`:''}
            </div>
          </div>
        `;

        const head = $('.post-head', el);
        head.addEventListener('click',()=>{ el.classList.toggle('open'); });

        // 버튼 핸들링
        el.addEventListener('click', (e)=>{
          const b = e.target.closest('button'); if(!b) return;
          const act = b.dataset.act;
          if(act==='view'){
            if(post.secret){
              const pw = prompt('비공개 글입니다. 비밀번호를 입력하세요.');
              if(pw && pw === post.password){
                const body = $('.post-body', el);
                body.querySelector('div').innerHTML = nl2br(escapeHtml(post.content));
                b.textContent = '내용 접기';
              } else if(pw!==null) { alert('비밀번호가 일치하지 않습니다.'); }
            } else {
              el.classList.remove('open');
            }
          }
          if(act==='edit'){
            const pw = prompt('수정 비밀번호를 입력하세요.');
            if(pw===post.password){ openAskModal(post) } else if(pw!==null){ alert('비밀번호가 일치하지 않습니다.'); }
          }
          if(act==='del'){
            const pw = prompt('삭제 비밀번호를 입력하세요.');
            if(pw===post.password){ if(confirm('정말 삭제하시겠어요?')){ removePost(post.id); } } else if(pw!==null){ alert('비밀번호가 일치하지 않습니다.'); }
          }
        });

        listWrap.appendChild(el);
      });
    }

    function removePost(id){
      const posts = LS.get('qnaPosts', []);
      LS.set('qnaPosts', posts.filter(p=>p.id!==id));
      renderQna();
    }

    function savePost(post){
      const posts = LS.get('qnaPosts', []);
      const idx = posts.findIndex(p=>p.id===post.id);
      if(idx>-1) posts[idx]=post; else posts.push(post);
      LS.set('qnaPosts', posts);
    }

    // ---------- 모달/폼 ----------
    const askModal = $('#askModal');
    $('#btnAsk').addEventListener('click', ()=> openAskModal());
    $('#btnCloseAsk').addEventListener('click', closeAskModal);

    function openAskModal(post){
      askModal.classList.add('open');
      askModal.setAttribute('aria-hidden','false');
      const linkBox = $('#linkBox'); linkBox.innerHTML=''; addLinkField(post?.links||[]);
      $('#previews').innerHTML=''; $('#photos').value='';
      if(post){
        state.editingId = post.id;
        $('#title').value = post.title;
        $('#category').value = post.category;
        $('#nickname').value = post.nickname||'';
        $('#content').value = post.content;
        $('#secret').checked = !!post.secret;
        (post.images||[]).forEach(src=>{
          const img = document.createElement('img'); img.src=src; img.className='preview'; $('#previews').append(img);
        });
      } else {
        state.editingId = null;
        $('#askForm').reset();
      }
    }
    function closeAskModal(){
      askModal.classList.remove('open');
      askModal.setAttribute('aria-hidden','true');
    }

    // 링크 필드 동적 추가
    $('#btnAddLink').addEventListener('click', ()=> addLinkField());
    function addLinkField(values=[]){
      const linkBox = $('#linkBox');
      const group = document.createElement('div');
      group.className='field-inline';
      group.innerHTML = `
        <input type="url" placeholder="https:// 예) 참고 링크" value="${values[0]||''}" />
        <button type="button" class="btn-ghost">삭제</button>
      `;
      group.querySelector('button').addEventListener('click',()=> group.remove());
      linkBox.appendChild(group);
    }

    // 이미지 프리뷰 + 용량 체크
    $('#photos').addEventListener('change', (e)=>{
      const files = Array.from(e.target.files).slice(0,3);
      const box = $('#previews'); box.innerHTML='';
      for(const f of files){
        if(f.size > 2*1024*1024){ alert('이미지 '+f.name+' 이(가) 2MB를 초과하여 제외됩니다.'); continue; }
        const reader = new FileReader();
        reader.onload = ev => {
          const img = document.createElement('img'); img.className='preview'; img.src = ev.target.result; box.appendChild(img);
        };
        reader.readAsDataURL(f);
      }
    });

    // 제출 처리
    $('#askForm').addEventListener('submit', (e)=>{
      e.preventDefault();
      const title = $('#title').value.trim();
      const category = $('#category').value;
      const nickname = $('#nickname').value.trim();
      const password = $('#writerPass').value;
      const content = $('#content').value.trim();
      const secret = $('#secret').checked;
      if(!title || !content || !password){ alert('제목/내용/비밀번호는 필수입니다.'); return; }

      const links = $$('#linkBox input').map(i=>i.value.trim()).filter(Boolean);
      const images = $$('#previews img').map(img=>img.src).slice(0,3);

      const now = Date.now();
      const post = state.editingId ? LS.get('qnaPosts', []).find(p=>p.id===state.editingId) : { id: uid(), createdAt: now };
      Object.assign(post, { title, category, nickname, content, images, links, secret, password, updatedAt: now });
      savePost(post);
      closeAskModal();
      switchTab('qna');
      setTimeout(()=>{ alert('등록되었습니다. QnA 목록에서 확인하세요.'); }, 50);
    });

    // ---------- 탭 ----------
    function switchTab(name){
      const faqOn = name==='faq';
      $('#faqSection').hidden = !faqOn; $('#qnaSection').hidden = faqOn;
      $('#tab-faq').classList.toggle('active', faqOn); $('#tab-qna').classList.toggle('active', !faqOn);
      if(!faqOn) renderQna(); else renderFaq();
      window.scrollTo({top:0,behavior:'smooth'});
    }
    $('#tab-faq').addEventListener('click', ()=> switchTab('faq'));
    $('#tab-qna').addEventListener('click', ()=> switchTab('qna'));

    // ---------- helpers ----------
    function escapeHtml(str){ return (str||'').replace(/[&<>"']/g, m=>({"&":"&amp;","<":"&lt;",">":"&gt;","\"":"&quot;","'":"&#39;"}[m])) }
    function nl2br(str){ return (str||'').replace(/\n/g,'<br>') }

    // 초기 렌더
    renderFaq();
  </script>
</body>
</html>
