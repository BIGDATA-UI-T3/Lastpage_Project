<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
            crossorigin="anonymous"></script>

    <link rel="stylesheet" th:href="@{/css/signup.css}">
    <link rel="stylesheet" th:href="@{/css/common.css}"> <title>회원가입하기</title>
</head>

<body>

<div class="header-wrapper">
    <header>
        <div class="logo">
            <a href="#"><img th:src="@{/asset/LastPage로고_투명.png}" alt="로고" /></a>
        </div>
        <nav>
            <ul>
                <li>
                    <a href="#">홈</a>
                    <ul>
                        <li><a href="#">인사말</a></li>
                    </ul>
                </li>

                <li><a href="#">장례서비스</a></li>
                <li><a href="#">Ourpage</a></li>
                <li>
                    <a href="#">심리상담</a>
                    <ul>
                        <li><a href="#">상담예약</a></li>
                        <li><a href="#">예약조회</a></li>
                    </ul>
                </li>

                <li>
                    <a href="#">추모굿즈</a>
                    <ul>
                        <li><a href="#">굿즈소개</a></li>
                        <li><a href="#">굿즈예약</a></li>
                        <li><a href="#">예약조회</a></li>
                    </ul>
                </li>
                <li><a href="#">마이페이지</a></li>
                <li><a href="#">고객센터</a></li>
            </ul>
        </nav>
        <div class="auth">
            <a th:href="@{/signin}">로그인</a>-->
        </div>
    </header>
</div> <div class="temp" style="width: 100%; height: 100px;"> </div>
<main class="signup-bg">
    <div class="signup-wrap">
        <h2 class="signup-title">회원가입하기</h2>

        <form class="signup-form-box" th:action="@{/signup}" method="post" autocomplete="off">

            <input type="text" name="name" placeholder="이름" required>
            <input type="text" name="username" placeholder="아이디" required>
            <input type="password" name="password" placeholder="비밀번호 (8~16자 영문 대소문자/숫자/특수문자를 사용하세요.)" required>
            <input type="password" name="passwordCheck" placeholder="비밀번호 확인" required>

            <div class="signup-row email-row">
                <input type="text" name="emailId" class="email-id" placeholder="이메일" required>
                <span class="at">@</span>
                <input type="text" name="emailDomain" class="email-domain" placeholder="이메일 도메인" required>
                <select class="domain-select" name="emailDomainSelect">
                    <option>직접입력</option>
                    <option>naver.com</option>
                    <option>gmail.com</option>
                    <option>daum.net</option>
                </select>
            </div>

            <div class="signup-row birth-row">
                <input type="text" name="birthYear" maxlength="4" placeholder="생년(4자)" required>
                <input type="text" name="birthMonth" maxlength="2" placeholder="월" required>
                <input type="text" name="birthDay" maxlength="2" placeholder="일" required>
            </div>

            <div class="signup-row gender-row">
                <label><input type="radio" name="gender" value="none" required checked> 선택안함</label>
                <label><input type="radio" name="gender" value="male"> 남</label>
                <label><input type="radio" name="gender" value="female"> 여</label>
            </div>

            <div class="signup-row phone-row">
                <input type="text" name="phone" class="phone-input" placeholder="휴대폰(본인명의 필수)" required>
                <button type="button" class="signup-btn">인증하기</button> </div>

            <div class="signup-row sms-row">
                <input type="text" name="smsCode" class="sms-input" placeholder="SMS 인증 번호 입력" required>
                <button type="button" class="signup-btn">확인</button> </div>

            <button type="submit" class="signup-btn big">회원가입하기</button>
        </form>
    </div>
</main>

<footer>
    대충 연락처 / GitHub 주소 / 이메일 등 입력 예정/ 푸터 높이는 헤더 배너 반응 테스트용.
</footer>

<script>
    (function () {
      const header = document.querySelector('header');
      window.addEventListener('scroll', () => {
        if (window.scrollY > 200) {
          header.style.top = '-120px';
        } else {
          header.style.top = '0';
        }
      });
    })();

    // ScrollSpy 강제 초기화
    document.addEventListener("DOMContentLoaded", function () {
      new bootstrap.ScrollSpy(document.body, {
        target: '#list-example',
        offset: 100
      });

      // [추가] 이메일 도메인 셀렉트박스 스크립트
      const emailDomainInput = document.querySelector('.email-domain');
      const emailDomainSelect = document.querySelector('.domain-select');

      emailDomainSelect.addEventListener('change', function() {
        if (this.value === '직접입력') {
          emailDomainInput.value = '';
          emailDomainInput.readOnly = false;
          emailDomainInput.focus();
        } else {
          emailDomainInput.value = this.value;
          emailDomainInput.readOnly = true;
        }
      });
    });
</script>
</body>
</html>