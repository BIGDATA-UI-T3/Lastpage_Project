<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Community</title>
    <link rel="stylesheet" href="/css/Community.css">
    <link rel="stylesheet" href="/css/common.css">

    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />

    <!-- SWIPER CDN -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
</head>

<body>
    <!-- í—¤ë” -->
    <div class="header-wrapper">
        <header>
            <div class="logo">
                <a href="#"><img src="../Asset/LastPageë¡œê³ _íˆ¬ëª….png" alt="ë¡œê³ " /></a>
            </div>
            <nav>
                <ul>
                    <li><a href="#">í™ˆ</a>
                        <ul>
                            <li><a href="#">ì¸ì‚¬ë§</a></li>
                        </ul>
                    </li>
                    <li><a href="#">ì¥ë¡€ì„œë¹„ìŠ¤</a></li>
                    <li><a href="#">Ourpage</a></li>
                    <li><a href="#">ì‹¬ë¦¬ìƒë‹´</a>
                        <ul>
                            <li><a href="#">ìƒë‹´ì˜ˆì•½</a></li>
                            <li><a href="#">ì˜ˆì•½ì¡°íšŒ</a></li>
                        </ul>
                    </li>
                    <li><a href="#">ì¶”ëª¨êµ¿ì¦ˆ</a>
                        <ul>
                            <li><a href="#">êµ¿ì¦ˆì†Œê°œ</a></li>
                            <li><a href="#">êµ¿ì¦ˆì˜ˆì•½</a></li>
                            <li><a href="#">ì˜ˆì•½ì¡°íšŒ</a></li>
                        </ul>
                    </li>
                    <li><a href="#">ë§ˆì´í˜ì´ì§€</a></li>
                    <li><a href="#">ê³ ê°ì„¼í„°</a></li>
                </ul>
            </nav>
            <!-- ë¡œê·¸ì¸ ìƒíƒœì— ë”°ë¼ ì „í™˜ -->
            <div th:if="${loginUser != null}" class="auth">
                <a href="/logout" th:onclick="|logout()|">ë¡œê·¸ì•„ì›ƒ</a>
            </div>
            <div th:if="${loginUser == null}" class="auth">
                <a href="/signin">ë¡œê·¸ì¸</a>
                <a href="/signup">íšŒì›ê°€ì…</a>
            </div>
        </header>
    </div>

    <!-- ë°°ë„ˆ -->
    <div class="banner_yj swiper">
        <div class="swiper-wrapper">
            <!-- ê° ìŠ¬ë¼ì´ë“œì— ë°°ê²½ ì´ë¯¸ì§€ ì ìš© -->
            <div class="swiper-slide slide1"></div>
            <div class="swiper-slide slide2"></div>
            <div class="swiper-slide slide3"></div>
            <div class="swiper-slide slide4"></div>
        </div>

        <!-- í…ìŠ¤íŠ¸ ì˜¤ë²„ë ˆì´ (ìŠ¬ë¼ì´ë“œ ìœ„ ê³ ì •) -->
        <div class="overlay_yj">
            <div class="banner-text_yj">
                <h1>ë°˜ë ¤ë™ë¬¼ê³¼ í•¨ê»˜í•œ ëª¨ë“  ìˆœê°„, ì´ê³³ì—ì„œ ë‚˜ëˆ ìš”</h1>
                <p>ë”°ëœ»í•œ ìœ„ë¡œë¶€í„° ìœ ìš©í•œ ì •ë³´ê¹Œì§€, ì„œë¡œì˜ ê²½í—˜ì„ ë‚˜ëˆ„ë©° í•¨ê»˜ ì„±ì¥í•˜ëŠ” ì»¤ë®¤ë‹ˆí‹°ì…ë‹ˆë‹¤.</p>
            </div>
        </div>
    </div>

    <!-- ë©”ì¸ ë ˆì´ì•„ì›ƒ -->
    <div class="page-container">
        <!-- ì¢Œì¸¡ í”„ë¡œí•„ -->
        <aside class="profile-sidebar">

            <div class="profile-card" id="profile-card">

                <!-- í”„ë¡œí•„ ì´ë¯¸ì§€ -->
                <span class="material-symbols-outlined avatar">
                    account_circle
                </span>

                <!-- ì‚¬ìš©ì ì´ë¦„ -->
                <h3 id="profile-name">Guest</h3>

                <!-- @ì•„ì´ë”” -->
                <p id="profile-userid" class="user-id"></p>

                <!-- í†µê³„ ì˜ì—­ (ë¡œê·¸ì¸ ì „ ìˆ¨ê¹€) -->
                <div class="profile-stats" id="profile-stats" style="display:none;">
                    <div class="stat-item"><span class="count" id="post-count">0</span><span class="label">ë‚´ ê¸€</span>
                    </div>
                    <div class="stat-item"><span class="count" id="follower-count">0</span><span
                            class="label">íŒ”ë¡œì›Œ</span></div>
                    <div class="stat-item"><span class="count" id="following-count">0</span><span
                            class="label">íŒ”ë¡œì‰</span></div>
                </div>

                <!-- ì†Œê°œê¸€ -->
                <p id="profile-bio" class="profile-bio">ë¡œê·¸ì¸ í›„ ì»¤ë®¤ë‹ˆí‹° ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•´ë³´ì„¸ìš”</p>

                <!-- ë¡œê·¸ì¸ ì „/í›„ ë²„íŠ¼ ì»¨í…Œì´ë„ˆ -->
                <div id="profile-btn-area">
                    <!-- ë¡œê·¸ì¸ ì „ ë³´ì—¬ì•¼ í•˜ëŠ” ë²„íŠ¼ -->
                    <button class="my-posts-btn" id="signin-btn" style="margin-bottom: 5px;">ë¡œê·¸ì¸</button>
                    <button class="my-posts-btn" id="signup-btn">íšŒì›ê°€ì…</button>

                    <!-- ë¡œê·¸ì¸ í›„ ë³´ì—¬ì•¼ í•˜ëŠ” ë²„íŠ¼ -->
                    <button class="my-posts-btn" id="my-posts-view-btn" style="display:none;">ë‚´ê°€ ì“´ ê¸€ ë³´ê¸°</button>
                </div>

            </div>
        </aside>


        <!-- ë©”ì¸ ì½˜í…ì¸  -->
        <main class="main-content">
            <!-- ì „ì²´ í”¼ë“œ ì»¨í…Œì´ë„ˆ -->
            <div id="feed-container">
                <div class="main-actions">
                    <button class="write-post-btn" id="write-btn">ë‚´ ì¶”ì–µ ê¸°ë¡í•˜ê¸°</button>
                </div>
                <div class="post-feed">
                    <article class="feed-post-card">
                        <div class="post-header">
                            <img src="https://images.unsplash.com/photo-1517841905240-472988babdf9?q=80&w=50"
                                class="author-avatar" alt="ë½€ì‚ì–¸ë‹ˆ ì•„ë°”íƒ€">
                            <span class="author-name">ë½€ì‚ì–¸ë‹ˆ</span>
                        </div>
                        <div class="post-image-wrapper"><img
                                src="https://images.unsplash.com/photo-1543466835-00a7907e9de1?q=80&w=600"
                                alt="ê³¨ë“  ë¦¬íŠ¸ë¦¬ë²„"></div>
                        <div class="post-actions">
                            <svg class="like-btn" fill="currentColor" viewBox="0 0 24 24">
                                <path
                                    d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z">
                                </path>
                            </svg>
                            <svg class="comment-btn" fill="currentColor" viewBox="0 0 24 24">
                                <path
                                    d="M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4-.01-18zM18 14H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z">
                                </path>
                            </svg>
                            <svg class="share-btn" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"></path>
                            </svg>
                            <svg class="bookmark" fill="none" stroke="currentColor" stroke-width="2"
                                viewBox="0 0 24 24">
                                <path class="bookmark-icon-outline" stroke-linecap="round" stroke-linejoin="round"
                                    d="M19 21l-7-5-7 5V5a2 2 0 012-2h10a2 2 0 012 2v16z"></path>
                                <path class="bookmark-icon-filled" stroke-linecap="round" stroke-linejoin="round"
                                    d="M19 21l-7-5-7 5V5a2 2 0 012-2h10a2 2 0 012 2v16z"></path>
                            </svg>
                        </div>
                        <div class="post-details">
                            <div class="like-count">ì¢‹ì•„ìš” 1,023ê°œ</div>
                            <div class="post-caption"><span class="author-name">ë½€ì‚ì–¸ë‹ˆ</span>í•˜ëŠ˜ì—ì„œëŠ” ë§ˆìŒê» ë›°ì–´ë†€ì•„, ìš°ë¦¬ ë½€ì‚. í•­ìƒ
                                ì‚¬ë‘í•´!</div>
                        </div>
                    </article>

                    <article class="feed-post-card">
                        <div class="post-header">
                            <img src="https://images.unsplash.com/photo-1615789591457-74a63395c990?q=80&w=50"
                                class="author-avatar" alt="ë‚˜ë¹„ì§‘ì‚¬ ì•„ë°”íƒ€">
                            <span class="author-name">ë‚˜ë¹„ì§‘ì‚¬</span>
                        </div>
                        <div class="post-image-wrapper"><img
                                src="https://images.unsplash.com/photo-1514888286974-6c03e2ca1dba?q=80&w=600"
                                alt="ì°½ê°€ì˜ ê³ ì–‘ì´"></div>
                        <div class="post-actions">
                            <svg class="like-btn" fill="currentColor" viewBox="0 0 24 24">
                                <path
                                    d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z">
                                </path>
                            </svg>
                            <svg class="comment-btn" fill="currentColor" viewBox="0 0 24 24">
                                <path
                                    d="M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4-.01-18zM18 14H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z">
                                </path>
                            </svg>
                            <svg class="share-btn" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"></path>
                            </svg>
                            <svg class="bookmark" fill="none" stroke="currentColor" stroke-width="2"
                                viewBox="0 0 24 24">
                                <path class="bookmark-icon-outline" stroke-linecap="round" stroke-linejoin="round"
                                    d="M19 21l-7-5-7 5V5a2 2 0 012-2h10a2 2 0 012 2v16z"></path>
                                <path class="bookmark-icon-filled" stroke-linecap="round" stroke-linejoin="round"
                                    d="M19 21l-7-5-7 5V5a2 2 0 012-2h10a2 2 0 012 2v16z"></path>
                            </svg>
                        </div>
                        <div class="post-details">
                            <div class="like-count">ì¢‹ì•„ìš” 856ê°œ</div>
                            <div class="post-caption"><span class="author-name">ë‚˜ë¹„ì§‘ì‚¬</span>ì°½ê°€ì—ì„œ í–‡ë³• ì¬ëŠ” ê±¸ ì¢‹ì•„í•˜ë˜ ìš°ë¦¬ ë‚˜ë¹„. ê·¸ê³³ì€
                                í•­ìƒ ë”°ëœ»í–ˆìœ¼ë©´ ì¢‹ê² ë‹¤.</div>
                        </div>
                    </article>

                    <article class="feed-post-card">
                        <div class="post-header">
                            <img src="https://images.unsplash.com/photo-1541364983171-a8ba01e95cfc?q=80&w=50"
                                class="author-avatar" alt="ì•µë‘ë³´í˜¸ì ì•„ë°”íƒ€">
                            <span class="author-name">ì•µë‘ë³´í˜¸ì</span>
                        </div>
                        <div class="post-image-wrapper"><img
                                src="https://images.unsplash.com/photo-1552053831-71594a27632d?q=80&w=600" alt="ë¹„ê¸€ ê°•ì•„ì§€">
                        </div>
                        <div class="post-actions">
                            <svg class="like-btn" fill="currentColor" viewBox="0 0 24 24">
                                <path
                                    d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z">
                                </path>
                            </svg>
                            <svg class="comment-btn" fill="currentColor" viewBox="0 0 24 24">
                                <path
                                    d="M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4-.01-18zM18 14H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z">
                                </path>
                            </svg>
                            <svg class="share-btn" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"></path>
                            </svg>
                            <svg class="bookmark" fill="none" stroke="currentColor" stroke-width="2"
                                viewBox="0 0 24 24">
                                <path class="bookmark-icon-outline" stroke-linecap="round" stroke-linejoin="round"
                                    d="M19 21l-7-5-7 5V5a2 2 0 012-2h10a2 2 0 012 2v16z"></path>
                                <path class="bookmark-icon-filled" stroke-linecap="round" stroke-linejoin="round"
                                    d="M19 21l-7-5-7 5V5a2 2 0 012-2h10a2 2 0 012 2v16z"></path>
                            </svg>
                        </div>
                        <div class="post-details">
                            <div class="like-count">ì¢‹ì•„ìš” 912ê°œ</div>
                            <div class="post-caption"><span class="author-name">ì•µë‘ë³´í˜¸ì</span>ì²˜ìŒ ë§Œë‚œ ë‚ , ë„ˆì˜ ëˆˆë¹›ì„ ìŠì„ ìˆ˜ ì—†ì–´. ê³ ë§™ê³ 
                                ë¯¸ì•ˆí•´, ì•µë‘ì•¼.</div>
                        </div>
                    </article>
                </div>
            </div>

            <!-- ë‚´ê°€ ì“´ ê¸€ ì»¨í…Œì´ë„ˆ -->
            <div id="my-posts-container" style="display: none;">
                <div class="profile-page-wrapper">
                    <div class="view-header">
                        <h2>ë‚´ í”„ë¡œí•„</h2>
                        <button class="back-to-feed-btn" id="profile-back-btn">í”¼ë“œë¡œ ëŒì•„ê°€ê¸°</button>
                    </div>
                    <div class="profile-page-header">
                        <img src="https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?q=80&w=200"
                            alt="User Avatar" class="profile-page-avatar">
                        <div class="profile-page-info">
                            <div class="info-top">
                                <span class="profile-page-id">@junhyung_park</span>
                                <button class="profile-edit-btn">í”„ë¡œí•„ í¸ì§‘</button>
                            </div>
                            <div class="profile-page-stats">
                                <div class="stat-item">ê²Œì‹œë¬¼ <span class="count">12</span></div>
                                <div class="stat-item">íŒ”ë¡œì›Œ <span class="count">152</span></div>
                                <div class="stat-item">íŒ”ë¡œì‰ <span class="count">88</span></div>
                            </div>
                            <div class="profile-page-bio">
                                <h3>ë°•ì¤€í˜•</h3>
                                <p>ë³„ì´ ëœ ë‚˜ì˜ ì‘ì€ ì¹œêµ¬ë“¤ì„ ê¸°ì–µí•˜ë©°, ë”°ëœ»í•œ ìœ„ë¡œë¥¼ ë‚˜ëˆ„ê³  ì‹¶ì–´ìš”.</p>
                            </div>
                        </div>
                    </div>
                    <div class="post-grid-container">
                        <div class="grid-item"><img
                                src="https://images.unsplash.com/photo-1583512603805-3cc6b41f3edb?q=80&w=400"
                                alt="My Post 1"></div>
                        <div class="grid-item"><img
                                src="https://images.unsplash.com/photo-1560807707-8cc77767d783?q=80&w=400"
                                alt="My Post 2"></div>
                        <div class="grid-item"><img
                                src="https://images.unsplash.com/photo-1518717758536-85ae29035b6d?q=80&w=400"
                                alt="My Post 3"></div>
                        <div class="grid-item"><img
                                src="https://images.unsplash.com/photo-1548681528-6a5c45b66b42?q=80&w=400"
                                alt="My Post 4"></div>
                        <div class="grid-item"><img
                                src="https://images.unsplash.com/photo-1537151608828-ea2b11777ee8?q=80&w=400"
                                alt="My Post 5"></div>
                        <div class="grid-item"><img
                                src="https://images.unsplash.com/photo-1588943211346-0908a1fb0b01?q=80&w=400"
                                alt="My Post 6"></div>
                    </div>
                </div>
            </div>

            <!-- ê¸€ì“°ê¸° í¼ ì»¨í…Œì´ë„ˆ -->
<!--            <div id="write-container" style="display: none;">-->
<!--                <div class="write-form-container">-->
<!--                    <div class="view-header">-->
<!--                        <h2>ë‚´ ì¶”ì–µ ê¸°ë¡í•˜ê¸°</h2>-->
<!--                        <button class="back-to-feed-btn" id="write-form-back-btn">í”¼ë“œë¡œ ëŒì•„ê°€ê¸°</button>-->
<!--                    </div>-->
<!--                    <form id="post-form">-->
<!--                        <div class="form-group">-->
<!--                            <textarea id="message" rows="8" placeholder="ë°˜ë ¤ë™ë¬¼ê³¼ì˜ ì†Œì¤‘í•œ ì´ì•¼ê¸°ë¥¼ ë“¤ë ¤ì£¼ì„¸ìš”..."></textarea>-->
<!--                        </div>-->
<!--                        <div class="form-group">-->
<!--                            <label for="photo-upload" class="file-label">ğŸ“¸ ì‚¬ì§„ ì²¨ë¶€í•˜ê¸°</label>-->
<!--                            <input type="file" id="photo-upload" accept="image/*">-->
<!--                        </div>-->
<!--                        <button type="submit" class="submit-btn">ì‘ì„± ì™„ë£Œ</button>-->
<!--                    </form>-->
<!--                </div>-->
<!--            </div>-->
        </main>
    </div>

    <!-- 8. í‘¸í„° -->
    <footer>
        <!-- í‘¸í„° ì½˜í…ì¸ ëŠ” ì—¬ê¸°ì— ì¶”ê°€ -->
    </footer>

    <!-- 9. ë§¨ ìœ„ë¡œ ê°€ê¸° ë²„íŠ¼ -->
    <button id="scrollToTopBtn" title="ë§¨ ìœ„ë¡œ ê°€ê¸°">â†‘</button>

    <script src="../JS/Community.js"></script>

    <script>
        const swiper = new Swiper('.banner_yj', {
            loop: true,
            autoplay: {
                delay: 3500,
                disableOnInteraction: false,
            },
            effect: 'fade', // ë¶€ë“œëŸ¬ìš´ í˜ì´ë“œ ì „í™˜
            speed: 1200,
        });
    </script>

    <!--  ë¡œê·¸ì¸ ìœ ì €ì •ë³´ ê°€ì ¸ì˜¤ê¸°  -->
<!--    <script>-->
<!--        document.addEventListener("DOMContentLoaded", function() {-->
<!--            fetch("/api/user/profile")-->
<!--                .then(res => res.json())-->
<!--                .then(data => {-->
<!--                    const loginArea = document.getElementById("login-area");-->
<!--                    const profileArea = document.getElementById("profile-area");-->

<!--                    if (!data.login) {-->
<!--                        // ë¡œê·¸ì¸ ì•ˆ ë˜ì–´ìˆì„ ë•Œ í™”ë©´-->
<!--                        loginArea.style.display = "block";-->
<!--                        profileArea.style.display = "none";-->
<!--                    } else {-->
<!--                        // ë¡œê·¸ì¸ ë˜ì–´ìˆì„ ë•Œ í™”ë©´-->
<!--                        loginArea.style.display = "none";-->
<!--                        profileArea.style.display = "block";-->

<!--                        document.getElementById("display-name").textContent = data.name;-->
<!--                        document.getElementById("display-username").textContent = data.username;-->
<!--                        document.getElementById("display-bio").textContent = data.bio ?? "";-->
<!--                        document.getElementById("display-avatar").src = data.avatar ?? "/img/default-avatar.png";-->
<!--                    }-->
<!--                });-->
<!--        });-->
<!--    </script>-->

    <script>
        const isLoggedIn = /*[[${#authentication.principal != null}]]*/ false;

        document.getElementById('write-btn').addEventListener('click', function (event) {

        // ë¡œê·¸ì¸ ì•ˆ ëœ ìƒíƒœ
        if (!isLoggedIn) {
            event.preventDefault(); // ì–´ë–¤ ê²½ìš°ì—ë„ ì¼ë‹¨ ì´ë™ ë§‰ê¸°

            const goLogin = confirm("ë¡œê·¸ì¸ í›„ ì´ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.\në¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™í• ê¹Œìš”?");
            if (goLogin) {
                window.location.href = "/signin"; // í™•ì¸ -> ë¡œê·¸ì¸í˜ì´ì§€ ì´ë™
            }
            return; // ì·¨ì†Œ â†’ ì•„ë¬´ë°ë„ ì•ˆê° (stay)
        }

        // ë¡œê·¸ì¸ ëœ ìƒíƒœë©´ ê¸€ì“°ê¸° í˜ì´ì§€ë¡œ ì´ë™
        window.location.href = "/comm_post";
    });

    </script>

    <script>
        document.addEventListener("DOMContentLoaded", function() {

            fetch("/api/user/profile")
                .then(res => res.json())
                .then(data => {

                    const nameEl = document.getElementById("profile-name");
                    const userIdEl = document.getElementById("profile-userid");
                    const bioEl = document.getElementById("profile-bio");
                    const statsEl = document.getElementById("profile-stats");

                    const signinBtn = document.getElementById("signin-btn");
                    const signupBtn = document.getElementById("signup-btn");
                    const myPostsBtn = document.getElementById("my-posts-view-btn");

                    if (!data.login) {
                        // ë¡œê·¸ì¸ ì•ˆ í•¨
                        nameEl.textContent = "Guest";
                        userIdEl.textContent = "";
                        bioEl.textContent = "ë¡œê·¸ì¸ í›„ ì»¤ë®¤ë‹ˆí‹° ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•´ë³´ì„¸ìš”";

                        statsEl.style.display = "none";
                        myPostsBtn.style.display = "none";

                        signinBtn.style.display = "block";
                        signupBtn.style.display = "block";

                    } else {
                        // ë¡œê·¸ì¸ ìƒíƒœ
                        nameEl.textContent = data.name;
                        userIdEl.textContent = "@" + data.username;
                        bioEl.textContent = data.bio ? data.bio : "ë‚˜ë¥¼ ì†Œê°œí•˜ëŠ” ê¸€ì„ ë‚¨ê²¨ë³´ì„¸ìš”";

                        // í†µê³„ ë³´ì—¬ì£¼ê¸°
                        statsEl.style.display = "flex";

                        // ë²„íŠ¼ í† ê¸€
                        signinBtn.style.display = "none";
                        signupBtn.style.display = "none";
                        myPostsBtn.style.display = "block";

                        // ì•„ë°”íƒ€ ì´ë¯¸ì§€ê°€ ìˆë‹¤ë©´ ì ìš© (í˜„ì¬ëŠ” ì•„ì´ì½˜ â†’ ì´ë¯¸ì§€ë¡œ ë°”ê¾¸ê³  ì‹¶ì„ ë•Œ)
                        if (data.avatar) {
                            const avatarEl = document.querySelector(".avatar");
                            avatarEl.outerHTML = `<img src="${data.avatar}" class="avatar" style="width:70px;height:70px;border-radius:50%;object-fit:cover;">`;
                        }
                    }
                });

            // ë²„íŠ¼ ë™ì‘ ì—°ê²°
            document.getElementById("signin-btn").addEventListener("click", () => location.href = "/signin");
            document.getElementById("signup-btn").addEventListener("click", () => location.href = "/signup");
            document.getElementById("my-posts-view-btn").addEventListener("click", () => location.href = "/community/myposts");

        });
    </script>

    <script>
        // ë¡œê·¸ì•„ì›ƒ
        function logout() {
            fetch("/logout", { method: "POST" })
                .then(() => window.location.href = "/");
        }
    </script>

</body>

</html>